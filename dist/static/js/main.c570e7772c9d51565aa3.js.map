{"version":3,"sources":["webpack:///./src/config.js","webpack:///src/App.vue","webpack:///./src/App.vue?0ad9","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["conf","api","vue_esm","use","vuetable_2_default","a","noty_default","setMaxVisible","ws","WebSocket","App","name","components","VueJsonPretty","vue_json_pretty_default","data","rulesState","tokenId","confirmationHash","triggerContractAddress","notificationCount","session_id","Math","random","computed","rules","track_token","id","context","rule","this","repeat","confirm_transaction","track_triggers","methods","checkRules","_this","keys_default","_loop","i","ruleId","push","getRule","then","res","exists","extends_default","length","addRule","_this2","axios_default","post","config","type","text","timeout","show","removeRule","delete","get","created","mounted","_this3","jquery_default","tab","t","DataTable","order","on","console","log","row","setInterval","onmessage","message","JSON","parse","_ruleId","indexOf","ruleParts","split","ruleNamePart","_rule","add","stringify_default","draw","window","e","promise_default","all","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_m","_v","_s","data-tab","directives","rawName","value","expression","domProps","input","$event","target","composing","path","class","disabled","click","staticRenderFns","width","src_App","__webpack_require__","normalizeComponent","ssrContext","Vue","productionTip","el","template"],"mappings":"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","file":"static/js/main.c570e7772c9d51565aa3.js","sourcesContent":["/* eslint-disable */\nconst conf = {\n    \"production\": {\n        api:\"http://151.80.41.202:7171\"\n    },\n    \"development\": {\n        api:\"http://localhost:7171\"\n    }\n\n}\nexport default conf[process.env.NODE_ENV]\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","<template>\n  <div id=\"app\" >\n<div class=\"ui container\">\n<h1 class=\"ui dividing header\"><small>TRONHOOK DEMO</small></h1>\n<div class=\"info\">\n<p>Here are some demo of usecases that TronHook can help with. <em><b>It is not only limited to these usecase</b></em>, you can write any rule you want that match your requirements.</p>\n<p>This demo is focusing on the notification feature but TronHook is not just a notification tool, you can do much more with it !</p>\n<p>If you want to have more details about how to write rules, you can check the documentation here.</p>\n<p>To start receiving notifications, choose one or multiple rules and save them. TronHook node will start sending notifications via websocket to this page !</p>\n<p>Note that this demo checks the matching rules only for the latest blocks, but you can also get notifications for previous blocks or a specific range of blocks.</p>\n</div>\n\n<div class=\"ui warning message\">\n  Rules are deleted every half hour (no matter when you created them) on this demo server, if you are not receiving notifications anymore it might be for this reason.<br>\n In that case, please reload the page and add your rules again\n</div>\n\n<div class=\"ui grid\">\n\n  <div class=\"column\">\n      <div class=\"ui large blue label right floated\">\n        <i class=\"alarm icon\"></i>\n        Received notifications\n      <div class=\"detail\">{{notificationCount}}</div>\n      </div>\n  </div>\n\n</div>\n\n<div class=\"ui grid\">\n  <div class=\"four wide column\">\n    <b>RULE EXAMPLES</b>\n    <div class=\"ui vertical fluid tabular menu\" >\n      <a class=\"item active\" data-tab=\"track_token\">\n        Track transactions of a token\n      </a>\n      <a class=\"item\" data-tab=\"confirm_transaction\">\n        Confirmation of a transaction\n      </a>\n      <a class=\"item \" data-tab=\"triggers\">\n        Track triggers of a specific contract\n      </a>\n    </div>\n  </div>\n  <div class=\"twelve wide stretched column\">\n    <div class=\"ui segment\" >\n      <!--TRACK TOKEN-->\n      <div class=\"ui active tab\" data-tab=\"track_token\">\n          <p><i class=\"ui circle info icon\"></i>Receive a notification every time a transaction occurs with a specific token</p>\n        <div class=\"ui form\">\n          <div class=\"field\">\n            <label>Token id</label>\n            <input type=\"text\" v-model=\"tokenId\">\n          </div>\n          <div class=\"field\">\n            <label>Rule specification</label>\n            <vue-json-pretty :path=\"'res'\" :data=\"rules.track_token\"></vue-json-pretty>\n          </div>\n          <button class=\"ui green button right floated\" type=\"submit\" @click=\"addRule('track_token')\" :class=\"{'disabled':this.rulesState.track_token.exists}\">Add rule</button>\n          <button class=\"ui red button right floated\" type=\"submit\" @click=\"removeRule('track_token')\" v-show=\"this.rulesState.track_token.exists\">Remove rule</button>\n        </div>\n      </div>\n      <!--CONFIRM TRANSACTION-->\n      <div class=\"ui tab\" data-tab=\"confirm_transaction\">\n          <p><i class=\"ui circle info icon\"></i>Receive a notification only once a specific transaction is confirmed</p>\n        <div class=\"ui form\">\n          <div class=\"field\">\n            <label>Transaction hash</label>\n            <input type=\"text\" v-model=\"confirmationHash\">\n          </div>\n          <div class=\"field\">\n            <label>Rule specification</label>\n            <vue-json-pretty :path=\"'res'\" :data=\"rules.confirm_transaction\"></vue-json-pretty>\n          </div>\n          <button class=\"ui green button right floated\" type=\"submit\" @click=\"addRule('confirm_transaction')\" :class=\"{'disabled':this.rulesState.confirm_transaction.exists}\">Add rule</button>\n          <button class=\"ui red button right floated\" type=\"submit\" @click=\"removeRule('confirm_transaction')\" v-show=\"this.rulesState.confirm_transaction.exists\">Remove rule</button>\n        </div>\n      </div>\n      <!--TRACK TRIGGERS-->\n      <div class=\"ui tab\" data-tab=\"triggers\">\n          <p><i class=\"ui circle info icon\"></i>Receive a notification every time a triggers occurs on a specific contract</p>\n        <div class=\"ui form\">\n          <div class=\"field\">\n            <label>Contract address</label>\n            <input type=\"text\" v-model=\"triggerContractAddress\">\n          </div>\n          <div class=\"field\">\n            <label>Rule specification</label>\n            <vue-json-pretty :path=\"'res'\" :data=\"rules.track_triggers\"></vue-json-pretty>\n          </div>\n          <button class=\"ui green button right floated\" type=\"submit\" @click=\"addRule('track_triggers')\" :class=\"{'disabled':this.rulesState.track_triggers.exists}\">Add rule</button>\n          <button class=\"ui red button right floated\" type=\"submit\" @click=\"removeRule('track_triggers')\" v-show=\"this.rulesState.track_triggers.exists\">Remove rule</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</div>\n<div class=\"ui container\">\n  <h2  class=\"ui dividing header\"><a id=\"notifications\"></a><small>Received notifications</small></h2>\n  <table id=\"table_id\" class=\"ui fixed selectable orange table\" width=\"100%\">\n      <thead>\n          <tr>\n              <th class=\"two wide\">#</th>\n              <th class=\"two wide\">Rule Id</th>\n              <th class=\"ten wide\">Result</th>\n          </tr>\n      </thead>\n      <tbody>\n      </tbody>\n  </table>\n</div>\n  </div>\n</template>\n\n<script>\nimport Noty from 'noty'\nimport $ from 'jquery'\nimport 'semantic-ui/dist/semantic.css'\nimport 'semantic-ui/dist/components/tab'\nimport 'noty/lib/noty.css'\nimport VueJsonPretty from 'vue-json-pretty'\nimport axios from 'axios'\nimport Vue from 'vue'\nimport VueTable from 'vuetable-2'\nimport 'datatables.net'\nimport 'datatables.net-se'\nimport Conf from './config'\n\nVue.use(VueTable)\nNoty.setMaxVisible(10)\nvar ws = new WebSocket('ws://localhost:7272')\nexport default {\n  name: 'App',\n  components: {\n    VueJsonPretty\n  },\n  data () {\n    return {\n      rulesState: {},\n      tokenId: 'SEED',\n      confirmationHash: '',\n      triggerContractAddress: '',\n      notificationCount: 0,\n      session_id: `${Math.random()}`\n    }\n  },\n  computed: {\n    rules () {\n      return {\n        'track_token': {\n          'id': 'track_token',\n          'context': 'transaction',\n          'rule': `type==2 and contract.asset=='${this.tokenId}'`,\n          'repeat': 'always'\n        },\n        'confirm_transaction': {\n          'id': 'confirm_transaction',\n          'context': 'transaction',\n          'rule': `confirmed==true and hash=='${this.confirmationHash}'`,\n          'repeat': 'always'\n        },\n        'track_triggers': {\n          'id': 'track_trigger',\n          'context': 'transaction',\n          'rule': `type==31 and contract.contractAddress=='${this.triggerContractAddress}'`,\n          'repeat': 'always'\n        }\n      }\n    }\n  },\n  methods: {\n    checkRules () {\n      // check if rules exists every 5s\n      const rules = Object.keys(this.rules)\n      for (let i = 0; i < rules.length; i++) {\n        const ruleId = rules[i]\n        const rule = this.rules[ruleId]\n        let promises = []\n        // let rule = rules[ruleId]\n        promises.push(this.getRule(ruleId).then((res) => {\n          let exists = 'id' in res.data\n          this.rulesState[ruleId] = {...rule, exists: exists}\n        }))\n      }\n    },\n    addRule (id) {\n      const rules = this.rules\n      let rule = {...rules[id], id: id + ':' + this.session_id}\n      axios.post(`${Conf.api}/rule`, rule).then((data) => {\n        new Noty({\n          type: 'success',\n          text: 'Rule successfully added !',\n          timeout: 1000\n        }).show()\n        this.checkRules()\n      })\n    },\n    removeRule (id) {\n      axios.delete(`${Conf.api}/rule/${id}:${this.session_id}`).then(() => {\n        new Noty({\n          type: 'success',\n          text: 'Rule removed !',\n          timeout: 1000\n        }).show()\n      })\n    },\n    getRule (id) {\n      return axios.get(`${Conf.api}/rule/${id}:${this.session_id}`)\n    }\n\n  },\n  created () {\n    this.rulesState = {...this.rules}\n  },\n  mounted () {\n    // init tab\n    $('.tabular.menu .item').tab()\n    // init table\n    let t = $('#table_id').DataTable({\n      'order': [[ 0, 'desc' ]]\n    })\n    t.on('click', 'tr', function () {\n      console.log(t.row(this).data())\n    })\n    // check rule status every 5s\n    setInterval(() => {\n      this.checkRules()\n    }, 5000)\n    // handle ws message\n    ws.onmessage = (data) => {\n      let message = JSON.parse(data.data)\n      const rules = Object.keys(message)\n      for (let i = 0; i < rules.length; i++) {\n        const ruleId = rules[i]\n        if (ruleId.indexOf(':') === -1) {\n          continue\n        }\n        const ruleParts = ruleId.split(':')\n        const ruleNamePart = ruleParts[0]\n        const ruleSessionPart = ruleParts[1]\n        if (ruleSessionPart === this.session_id) {\n          const rule = message[ruleId]\n          t.row.add([this.notificationCount, ruleNamePart, JSON.stringify(rule)]).draw(false)\n          this.notificationCount++\n        }\n      }\n    }\n    // remove rules on unload\n    $(window).on('beforeunload', (e) => {\n      Promise.all([\n        this.removeRule('track_token'),\n        this.removeRule('confirm_transaction'),\n        this.removeRule('track_triggers')])\n    })\n  }\n}\n</script>\n\n<style>\n.info p{\n  font-size: 16px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"ui container\"},[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"ui grid\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"ui large blue label right floated\"},[_c('i',{staticClass:\"alarm icon\"}),_vm._v(\"\\n        Received notifications\\n      \"),_c('div',{staticClass:\"detail\"},[_vm._v(_vm._s(_vm.notificationCount))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"ui grid\"},[_vm._m(3),_vm._v(\" \"),_c('div',{staticClass:\"twelve wide stretched column\"},[_c('div',{staticClass:\"ui segment\"},[_c('div',{staticClass:\"ui active tab\",attrs:{\"data-tab\":\"track_token\"}},[_vm._m(4),_vm._v(\" \"),_c('div',{staticClass:\"ui form\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"Token id\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tokenId),expression:\"tokenId\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.tokenId)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.tokenId=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"Rule specification\")]),_vm._v(\" \"),_c('vue-json-pretty',{attrs:{\"path\":'res',\"data\":_vm.rules.track_token}})],1),_vm._v(\" \"),_c('button',{staticClass:\"ui green button right floated\",class:{'disabled':this.rulesState.track_token.exists},attrs:{\"type\":\"submit\"},on:{\"click\":function($event){_vm.addRule('track_token')}}},[_vm._v(\"Add rule\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.rulesState.track_token.exists),expression:\"this.rulesState.track_token.exists\"}],staticClass:\"ui red button right floated\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){_vm.removeRule('track_token')}}},[_vm._v(\"Remove rule\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"ui tab\",attrs:{\"data-tab\":\"confirm_transaction\"}},[_vm._m(5),_vm._v(\" \"),_c('div',{staticClass:\"ui form\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"Transaction hash\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.confirmationHash),expression:\"confirmationHash\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.confirmationHash)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.confirmationHash=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"Rule specification\")]),_vm._v(\" \"),_c('vue-json-pretty',{attrs:{\"path\":'res',\"data\":_vm.rules.confirm_transaction}})],1),_vm._v(\" \"),_c('button',{staticClass:\"ui green button right floated\",class:{'disabled':this.rulesState.confirm_transaction.exists},attrs:{\"type\":\"submit\"},on:{\"click\":function($event){_vm.addRule('confirm_transaction')}}},[_vm._v(\"Add rule\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.rulesState.confirm_transaction.exists),expression:\"this.rulesState.confirm_transaction.exists\"}],staticClass:\"ui red button right floated\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){_vm.removeRule('confirm_transaction')}}},[_vm._v(\"Remove rule\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"ui tab\",attrs:{\"data-tab\":\"triggers\"}},[_vm._m(6),_vm._v(\" \"),_c('div',{staticClass:\"ui form\"},[_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"Contract address\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.triggerContractAddress),expression:\"triggerContractAddress\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.triggerContractAddress)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.triggerContractAddress=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[_c('label',[_vm._v(\"Rule specification\")]),_vm._v(\" \"),_c('vue-json-pretty',{attrs:{\"path\":'res',\"data\":_vm.rules.track_triggers}})],1),_vm._v(\" \"),_c('button',{staticClass:\"ui green button right floated\",class:{'disabled':this.rulesState.track_triggers.exists},attrs:{\"type\":\"submit\"},on:{\"click\":function($event){_vm.addRule('track_triggers')}}},[_vm._v(\"Add rule\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.rulesState.track_triggers.exists),expression:\"this.rulesState.track_triggers.exists\"}],staticClass:\"ui red button right floated\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){_vm.removeRule('track_triggers')}}},[_vm._v(\"Remove rule\")])])])])])])]),_vm._v(\" \"),_vm._m(7)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h1',{staticClass:\"ui dividing header\"},[_c('small',[_vm._v(\"TRONHOOK DEMO\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info\"},[_c('p',[_vm._v(\"Here are some demo of usecases that TronHook can help with. \"),_c('em',[_c('b',[_vm._v(\"It is not only limited to these usecase\")])]),_vm._v(\", you can write any rule you want that match your requirements.\")]),_vm._v(\" \"),_c('p',[_vm._v(\"This demo is focusing on the notification feature but TronHook is not just a notification tool, you can do much more with it !\")]),_vm._v(\" \"),_c('p',[_vm._v(\"If you want to have more details about how to write rules, you can check the documentation here.\")]),_vm._v(\" \"),_c('p',[_vm._v(\"To start receiving notifications, choose one or multiple rules and save them. TronHook node will start sending notifications via websocket to this page !\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Note that this demo checks the matching rules only for the latest blocks, but you can also get notifications for previous blocks or a specific range of blocks.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui warning message\"},[_vm._v(\"\\n  Rules are deleted every half hour (no matter when you created them) on this demo server, if you are not receiving notifications anymore it might be for this reason.\"),_c('br'),_vm._v(\"\\n In that case, please reload the page and add your rules again\\n\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"four wide column\"},[_c('b',[_vm._v(\"RULE EXAMPLES\")]),_vm._v(\" \"),_c('div',{staticClass:\"ui vertical fluid tabular menu\"},[_c('a',{staticClass:\"item active\",attrs:{\"data-tab\":\"track_token\"}},[_vm._v(\"\\n        Track transactions of a token\\n      \")]),_vm._v(\" \"),_c('a',{staticClass:\"item\",attrs:{\"data-tab\":\"confirm_transaction\"}},[_vm._v(\"\\n        Confirmation of a transaction\\n      \")]),_vm._v(\" \"),_c('a',{staticClass:\"item \",attrs:{\"data-tab\":\"triggers\"}},[_vm._v(\"\\n        Track triggers of a specific contract\\n      \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('i',{staticClass:\"ui circle info icon\"}),_vm._v(\"Receive a notification every time a transaction occurs with a specific token\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('i',{staticClass:\"ui circle info icon\"}),_vm._v(\"Receive a notification only once a specific transaction is confirmed\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('i',{staticClass:\"ui circle info icon\"}),_vm._v(\"Receive a notification every time a triggers occurs on a specific contract\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui container\"},[_c('h2',{staticClass:\"ui dividing header\"},[_c('a',{attrs:{\"id\":\"notifications\"}}),_c('small',[_vm._v(\"Received notifications\")])]),_vm._v(\" \"),_c('table',{staticClass:\"ui fixed selectable orange table\",attrs:{\"id\":\"table_id\",\"width\":\"100%\"}},[_c('thead',[_c('tr',[_c('th',{staticClass:\"two wide\"},[_vm._v(\"#\")]),_vm._v(\" \"),_c('th',{staticClass:\"two wide\"},[_vm._v(\"Rule Id\")]),_vm._v(\" \"),_c('th',{staticClass:\"ten wide\"},[_vm._v(\"Result\")])])]),_vm._v(\" \"),_c('tbody')])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-81503552\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-81503552\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-81503552\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}